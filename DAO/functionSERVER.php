<?php
require_once("BDD.php");
//----------------------------------------------------------------------//
//**********************************************************************//
//----------------------------------------------------------------------//
//-------------------------------------------------------//
///////////        FUNCTION TEMPLATE     //////////////////
//-------------------------------------------------------//
function ReqSelect($sql,$id=null){
    $linkpdo=ConnexionBDD();
    if(is_null($id)){
        $req = $linkpdo->prepare($sql);
        $req->execute();    
    } else {
        $req = $linkpdo->prepare($sql);
        $req->execute(array(':id' => $id));    
    }
    if($req->rowCount() > 0){
        $data = $req->fetchAll(PDO::FETCH_ASSOC);
        return $data;
    } else {
        return "ERROR";
    }
}
//-------------------------------------------------------//
//////////////////  ROLE non Authentifié       ////////////
//-------------------------------------------------------//
//-------------------------------------------------------------------//
//////////////////  Récupérer Liste article ou 1 Article      /////////
//-------------------------------------------------------------------//
function getArticleNAuth($id=null){
    $sql="SELECT id_art,auteur,date_publication,contenu FROM articles";
    if(is_null($id)){
        return ReqSelect($sql);    
    } else {
        return ReqSelect($sql."where id_art=:id",$id);   
    }
}
//-------------------------------------------------------//
//////////////////  ROLE Administrateur        ////////////
//-------------------------------------------------------//
//-----------------------------------------------------------------------------//
////////  Récupérer Liste Article ou 1 Article (Toutes Informations) ////////////
//-----------------------------------------------------------------------------//

//---------------------------------------------------------//
////////  Récupérer Nb Like/Dislike Article      ////////////
//---------------------------------------------------------//

//------------------------------------------------------------//
////////  Récupérer Liste Like/Dislike Article      ////////////
//------------------------------------------------------------//

//--------------------------------------//
////////  Delete Article      ////////////
//--------------------------------------//

//-------------------------------------------------------//
//////////////////  ROLE Publisher             ////////////
//-------------------------------------------------------//
//-------------------------------------------------------//
//////////////////  Ajout Article              ////////////
//-------------------------------------------------------//

//--------------------------------------------------------------//
//////////////////  Récupérer mes Articles            ////////////
//--------------------------------------------------------------//

//-------------------------------------------------------------------------------------------------------//
////////////////// Récupérer Liste Article ou 1 Article des publishers (Sans liste des likers) ////////////
//-------------------------------------------------------------------------------------------------------//

//-------------------------------------------------------//
//////////////////  Modification mon Article   ////////////
//-------------------------------------------------------//

//-------------------------------------------------------//
//////////////////  Delete mon Article         ////////////
//-------------------------------------------------------//

//-------------------------------------------------------------//
//////////////////  Ajout Like/Dislike d'un Article  ////////////
//-------------------------------------------------------------//

//----------------------------------------------------------------------//
//**********************************************************************//
//----------------------------------------------------------------------//
?>