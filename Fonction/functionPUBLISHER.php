<?php
//----------------------------------------------------------------------//
//**********************************************************************//
//----------------------------------------------------------------------//
//-------------------------------------------------------//
//////////////////  ROLE Publisher             ////////////
//-------------------------------------------------------//
//-------------------------------------------------------------//
////////////////// Cas des méthodes GET TOKEN  //////////////////
//-------------------------------------------------------------//
function GETMethodTOKEN($id=null,$token){
    $lien='http://localhost/R401/APIREST/SERVERAPI.php';
    if(is_null($id)){
        $result = file_get_contents($lien,false,
        stream_context_create(array('http' => array('method' => 'GET','header'=>'Authorization: Bearer '.$token))) 
        );
    } else {
        $result = file_get_contents($lien."?id=".$id,false,
        stream_context_create(array('http' => array('method' => 'GET','header'=>'Authorization: Bearer '.$token))) 
        );
    }
    $result = json_decode($result,true);
    return $result;
}
//----------------------------------------------------------------------//
//**********************************************************************//
//----------------------------------------------------------------------//
?>